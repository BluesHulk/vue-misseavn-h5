{"version":3,"sources":["webpack:///src/base/slider/index.vue","webpack:///./src/base/slider/index.vue?efd3","webpack:///./src/base/slider/index.vue","webpack:///src/components/recommend/index.vue","webpack:///./src/components/recommend/index.vue?118a","webpack:///./src/components/recommend/index.vue"],"names":["slider","Boolean","Number","_this","this","_setSliderWidth","_initDots","_initSlider","_play","refresh","enable","pageX","pageIndex","disable","timer","children","clientWidth","i","length","sliderWidth","_this2","loop","_onScrollEnd","_this3","next","interval","base_slider","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_t","_v","_l","item","index","class","active","currentPageIndex","staticRenderFns","src_base_slider","__webpack_require__","normalizeComponent","ssrContext","recommendTabs","bannerData","listRecommend","banner","channel","music","id","cover_image","iIScroll","base_scroll","iISlider","iItab","tab","iILoading","loading","iIFooter","footer","components_recommend","attrs","data","itemList","tabList","sliderData","href","url","src","pic","on","load","$event","loadImg","_e","hrefLink","style","backgroundImage","front_cover","_s","soundstr","view_count_formatted","comment_count","channelLink","smallpic","follow_num","name","iconName","title","items","miniImg","view_count","backTop","directives","rawName","value","expression","recommend_Component","recommend_normalizeComponent","recommend","__webpack_exports__"],"mappings":"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","file":"static/js/11.300b40045715cefbf268.js","sourcesContent":["<template>\r\n  <div class=\"slider\" ref=\"slider\">\r\n    <div class=\"slider-group\" ref=\"sliderGroup\">\r\n      <slot>\r\n      </slot>\r\n    </div>\r\n    <div class=\"dots\">\r\n      <span class=\"dot\" :class=\"{active: currentPageIndex === index }\" v-for=\"(item, index) in dots\"></span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {addClass} from 'common/js/dom'\r\n  import BScroll from 'better-scroll'\r\n  export default {\r\n    name: 'slider',\r\n    props: {\r\n      loop: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      autoPlay: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      interval: {\r\n        type: Number,\r\n        default: 4000\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        dots: [],\r\n        currentPageIndex: 0\r\n      }\r\n    },\r\n    mounted() {\r\n      setTimeout(() => {\r\n        this._setSliderWidth();\r\n        this._initDots();\r\n        this._initSlider();\r\n        if(this.autoPlay){\r\n          this._play()\r\n        }\r\n      }, 20)\r\n\r\n      window.addEventListener('resize',()=>{\r\n         if(!this.slider){\r\n            return\r\n         }\r\n         this._setSliderWidth(true);\r\n         this.slider.refresh();\r\n      })\r\n \r\n    },\r\n    activated() {  //keep-alive 组件时调用。\r\n      this.slider.enable()\r\n      let pageIndex = this.slider.getCurrentPage().pageX\r\n      this.slider.goToPage(pageIndex, 0, 0)\r\n      this.currentPageIndex = pageIndex\r\n      if (this.autoPlay) {\r\n        this._play()\r\n      }\r\n    },\r\n    deactivated() { //keep-alive 组件停用时调用。\r\n      this.slider.disable()\r\n      clearTimeout(this.timer)\r\n    },\r\n    beforeDestroy() {\r\n       this.slider.disable()\r\n      clearTimeout(this.timer)\r\n    },\r\n    methods: {\r\n      \r\n      _setSliderWidth(isResize) {\r\n        this.children = this.$refs.sliderGroup.children\r\n        let width = 0\r\n        let sliderWidth = this.$refs.slider.clientWidth\r\n        for (let i = 0; i < this.children.length; i++) {\r\n          let child = this.children[i];\r\n          console.log(this.children.length)\r\n          addClass(child, 'slider-item')\r\n          child.style.width = sliderWidth + 'px'\r\n          width += sliderWidth\r\n        }\r\n        if (this.loop && !isResize) {\r\n          width += 2 * sliderWidth\r\n        }\r\n        this.$refs.sliderGroup.style.width = width + 'px'\r\n      },\r\n      _initSlider() {\r\n        this.slider = new BScroll(this.$refs.slider, {\r\n          scrollX: true,\r\n          scrollY: false,\r\n          momentum: false,\r\n          snap: {\r\n            loop: this.loop,\r\n            threshold: 0.3,\r\n            speed: 400\r\n          }\r\n        })\r\n        this.slider.on('scrollEnd', this._onScrollEnd)\r\n        this.slider.on('touchend', () => {\r\n          if (this.autoPlay) {\r\n              this._play()\r\n            }\r\n        })\r\n        this.slider.on('beforeScrollStart', () => {\r\n           if (this.autoPlay) {\r\n             clearTimeout(this.timer)\r\n           }\r\n        })\r\n      },\r\n      _onScrollEnd() {\r\n        let pageIndex = this.slider.getCurrentPage().pageX\r\n        this.currentPageIndex = pageIndex;\r\n        if(this.autoPlay){\r\n            this._play()\r\n        }\r\n     \r\n      },\r\n      _initDots() {\r\n        this.dots = new Array(this.children.length)\r\n      },\r\n      _play(){\r\n          clearTimeout(this.timer)\r\n          this.timer = setTimeout(()=>{\r\n            this.slider.next()\r\n          },this.interval)\r\n      }\r\n      \r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped >\r\n@import \"~common/style/variable\";\r\n\r\n   .slider{\r\n      min-height: 1px;\r\n      position: relative;\r\n      .slider-group{\r\n            position: relative;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            .slider-item{\r\n                float: left;\r\n                box-sizing: border-box;\r\n                overflow: hidden;\r\n                text-align: center;\r\n                a{\r\n                    display: block;\r\n                    width: 100%;\r\n                    overflow: hidden;\r\n                    text-decoration: none;\r\n                }\r\n                img{\r\n                    display: block;\r\n                    width: 100%;\r\n                }\r\n            }\r\n       }\r\n\r\n        .dots{ \r\n            position: absolute;\r\n            right: 0;\r\n            left: 0;\r\n            bottom: 12px;\r\n            transform: translateZ(1px);\r\n            text-align: center;\r\n            font-size: 0;\r\n                .dot{\r\n                    display: inline-block;\r\n                    margin: 0 4px;\r\n                    width: 8px;\r\n                    height: 8px;\r\n                    border-radius: 50%;\r\n                    background: $color-text-l;\r\n                &.active{\r\n                    width: 20px;\r\n                    border-radius: 5px;\r\n                    background: $color-text-ll;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    \r\n   \r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/base/slider/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{staticClass:\"dot\",class:{active: _vm.currentPageIndex === index }})}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-37ebfe35\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/slider/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37ebfe35\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37ebfe35\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-37ebfe35\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/slider/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"home\">\r\n   <iIScroll ref = \"scroll\" class=\"recommend-content\" :data=\"itemList\">\r\n    <div>\r\n     \r\n            <div>\r\n                <iItab :tabList=\"tabList\" ></iItab>\r\n                <div class=\"slider-wrapper\" v-if=\"sliderData.length\">\r\n                    <div class=\"slider-content\">\r\n                        <iISlider ref=\"slider\">\r\n                        <div v-for=\"item in sliderData\">\r\n                            <a :href=\"item.url\">\r\n                            <img @load=\"loadImg()\" :src=\"item.pic\" >\r\n                            </a>\r\n                        </div>\r\n                        </iISlider>\r\n                    </div>\r\n                </div>\r\n                <div class=\"Panel sounds\">\r\n                    <div class=\"panel-head\">\r\n                        <div class=\"panel-title\">\r\n                            <div class=\"home-panel-title sound\">\r\n                            <i></i>\r\n                            人气 M 音\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"panel-nav\">\r\n                        <a class=\"home-panel-nav\" href=\"/rank\">排行榜</a>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"panel-body\">\r\n                        <a class=\"Thumbnail sound\" v-for=\"item in sentimentList\"  :href=\"hrefLink(item)\">\r\n                            <div class=\"cover\" :style=\"{backgroundImage:'url(' + item.front_cover + ')'}\"></div>\r\n                            <div class=\"title\">{{item.soundstr}}</div>\r\n                            <div class=\"detail\">\r\n                                <span class=\"item play-times\">{{item.view_count_formatted}}</span><span class=\"item comments\">{{item.comment_count}}</span>\r\n                            </div>\r\n                        </a>\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div class=\"Panel channels\">\r\n                    <div class=\"panel-head\">\r\n                        <div class=\"panel-title\">\r\n                            <div class=\"home-panel-title channel\">\r\n                            <i></i>\r\n                             频道\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"panel-nav\">\r\n                        <a class=\"home-panel-nav\" href=\"/channels/all\">更多</a>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"panel-body\">\r\n                        <a class=\"Thumbnail channel\" v-for=\"item in channelList\"  :href=\"channelLink(item)\">\r\n                            <div class=\"cover\"  :style=\"{backgroundImage:'url(' + item.smallpic + ')'}\">\r\n                                <div class=\"follow\">\r\n                                    <span>{{item.follow_num}}</span>\r\n                                </div>\r\n                            </div>\r\n                        <div class=\"title\">{{item.name}}</div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"Panel sounds\" v-for=\"item in itemList\" >\r\n                    <div class=\"panel-head\">\r\n                        <div class=\"panel-title\">\r\n                            <div class=\"home-panel-title sound\">\r\n                            <i :class=\"iconName(item)\"></i>\r\n                            {{item.title}}\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"panel-nav\">\r\n                        <a class=\"home-panel-nav\" :href=\"'/catalogs/'+item.id\">更多</a>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"panel-body\">\r\n                        <a class=\"Thumbnail sound\" v-for=\"items in item.objects_point\"  :href=\"hrefLink(items)\">\r\n                            <div class=\"cover\" :style=\"{backgroundImage:'url('+miniImg(items)+')'}\"></div>\r\n                            <div class=\"title\">{{items.soundstr}}</div>\r\n                            <div class=\"detail\">\r\n                                <span class=\"item play-times\">{{items.view_count}}</span><span class=\"item comments\">{{items.comment_count}}</span>\r\n                            </div>\r\n                        </a>\r\n                        \r\n                    </div>\r\n                </div>\r\n                <iIFooter @backTop=\"backTop\"></iIFooter>\r\n            </div>\r\n    </div>\r\n    <div class=\"loading-container\" v-show=\"!itemList.length\">\r\n            <iILoading></iILoading>\r\n    </div>\r\n   </iIScroll>\r\n   </div>\r\n</template>\r\n<script>\r\n  import  iIScroll from 'base/scroll/index.vue';\r\n  import  iISlider from 'base/slider/index.vue';\r\n  import  iILoading from 'base/loading/index.vue';\r\n  import  iIFooter from 'base/footer/index.vue';\r\n  import  iItab from 'base/tab/index.vue';\r\n  import  constant from 'common/js/constant';\r\n  export default {\r\n        data() {\r\n            return {\r\n              sentimentList:[],\r\n              channelList:[],\r\n              sliderData:[],\r\n              itemList:[],\r\n              checkLoaded:false,\r\n              tabList:constant.recommendTabs,\r\n            }\r\n        },\r\n        created(){\r\n          this.bannerData();\r\n          this.listRecommend()\r\n        },\r\n        activated(){\r\n             setTimeout(() => {\r\n                 //this.$refs.slider && this.$refs.slider.refresh()\r\n             }, 20)\r\n        },\r\n        methods:{\r\n           \r\n            loadImg(){\r\n                if(!this.checkLoaded){\r\n                     this.$refs.scroll.refresh()\r\n                     this.checkLoaded = true;\r\n                }\r\n            },\r\n            bannerData(){\r\n                const that = this;\r\n                this.$ajax('banner').then(function(res){\r\n                    that.sliderData = res.data.info.banner;\r\n                    that.sentimentList = res.data.info.sound.slice(0,3);\r\n                    that.channelList =  res.data.info.channel\r\n                })\r\n            },\r\n            listRecommend(){\r\n                const that = this;\r\n                this.$ajax('listRecommend').then(function(res){\r\n    \r\n                   that.itemList = res.data.music\r\n                })\r\n            },\r\n            hrefLink(item){\r\n                return `/sound/${item.id}/introduction`\r\n            },\r\n            channelLink(item){\r\n                return `/channel/${item.id}`\r\n            },\r\n            iconName(item){\r\n                return `catalog-icon-${item.id}`\r\n            },\r\n            getMore(item){\r\n                return `/catalogs/${item.id}`\r\n            },\r\n            miniImg(item){\r\n                return `//static.missevan.com/coversmini/${item.cover_image}`\r\n            },\r\n            backTop(){\r\n                this.$refs.scroll.scrollTo(this.$refs.scroll,0)\r\n            }\r\n        },\r\n        components:{\r\n           iIScroll,\r\n           iISlider,\r\n           iItab,\r\n           iILoading,\r\n           iIFooter\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\">\r\n    #home{\r\n          -webkit-flex-grow:1;\r\n          display:-webkit-flex;\r\n          width: 100%;\r\n          height: 100%;\r\n        .recommend-content{\r\n             width: 100%;\r\n             height: 100%;\r\n             -webkit-box-flex:1;\r\n             overflow: hidden;\r\n             .slider-wrapper{\r\n                position: relative;\r\n                width: 100%;\r\n                height: 0;\r\n                padding-top: 1.25rem;\r\n                overflow: hidden;\r\n                .slider-content{\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 0;\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n            .Panel{\r\n                display: block;\r\n                position: relative;\r\n                width: 100%;\r\n                background-color: whitesmoke;\r\n                padding-bottom: 0.16rem;\r\n                margin: 0.1rem auto;\r\n                border: 1px solid #eee;\r\n                border-left: none;\r\n                border-right: none;\r\n                &.channels{\r\n                     .panel-body {\r\n                        -webkit-flex-wrap: wrap;\r\n                        -ms-flex-wrap: wrap;\r\n                        flex-wrap: wrap;\r\n                    }\r\n                }\r\n                .panel-head {\r\n                    height: 0.4rem;\r\n                    line-height: 0.4rem;\r\n                    display: -webkit-box;\r\n                    display: -webkit-flex;\r\n                    display: -moz-box;\r\n                    display: -ms-flexbox;\r\n                    display: flex;\r\n                    position: relative;\r\n                    -webkit-box-pack: justify;\r\n                    -webkit-justify-content: space-between;\r\n                    -moz-box-pack: justify;\r\n                    -ms-flex-pack: justify;\r\n                    justify-content: space-between;\r\n                    padding: 0 0.14rem;\r\n                    .panel-title {\r\n                        font-size: 0.16rem;\r\n                        display: inline-block;\r\n                         .home-panel-title {\r\n                            font-size: 0.16rem;\r\n                            color: #000;\r\n                            i{\r\n                                position: relative;\r\n                                top: 0.04rem;\r\n                                margin-right: 0.05rem;\r\n                                height: 0.2rem;\r\n                                width: 0.2rem;\r\n                                display: inline-block;\r\n                                background-position: 50%;\r\n                                background-repeat: no-repeat;\r\n                                -moz-background-size: 100%;\r\n                                background-size: 100%;\r\n                            }\r\n                        }\r\n                         .home-panel-title{\r\n                              &.sound{\r\n                                    width: 1rem;\r\n                                    i{\r\n                                        background-image: url(../../common/image/sprite-icons-catalog@2x.png);\r\n                                        -moz-background-size: 0.86rem 0.86rem;\r\n                                        background-size: 0.86rem 0.86rem;\r\n                                        background-position: -0.22rem 0;\r\n                                        &.catalog-icon-46{\r\n                                             background-position: -0.66rem -0.44rem;\r\n                                        }\r\n                                        &.catalog-icon-5{\r\n                                             background-position: -0.44rem -0.22rem;\r\n                                        }\r\n                                        &.catalog-icon-8{\r\n                                             background-position: -0.22rem -0.44rem;\r\n                                              background-size: 0.41rem 0.86rem;\r\n                                        }\r\n                                        &.catalog-icon-54{\r\n                                             background-position: -0.22rem -0.66rem;\r\n                                        }\r\n                                        &.catalog-icon-26{\r\n                                             background-position: -0.66rem 0;\r\n                                        }\r\n                                        &.catalog-icon-41{\r\n                                             background-position: -0.66rem -0.22rem;\r\n                                        }\r\n                                        &.catalog-icon-52{\r\n                                             background-position:  0 -0.66rem;\r\n                                        } \r\n                                        &.catalog-icon-65{\r\n                                             background-position:  -0.66rem -0.66rem;\r\n                                        }\r\n                                    }\r\n                                }\r\n                             &.channel{\r\n                                    width: 1rem;\r\n                                    i{\r\n                                        background-image: url(../../common/image/sprite-icons-catalog@2x.png);\r\n                                        -moz-background-size: 0.86rem 0.86rem;\r\n                                        background-size: 0.86rem 0.86rem;\r\n                                        background-position: -0.44rem -0.44rem;\r\n                                }\r\n                              }\r\n                         }\r\n                        \r\n                    }\r\n                    .panel-nav {\r\n                        font-size: 0.14rem;\r\n                        color: #9e9e9e;\r\n                        display: inline-block;\r\n                        .home-panel-nav {\r\n                            display: inline-block;\r\n                            max-width: 0.66rem;\r\n                            text-align: center;\r\n                            font-size: 0.13rem;\r\n                            color: #9e9e9e;\r\n                            &:after{\r\n                                content: \"\";\r\n                                height: 0.16rem;\r\n                                width: 0.16rem;\r\n                                display: inline-block;\r\n                                position: relative;\r\n                                top: 0.03rem;\r\n                                right: -0.03rem;\r\n                                background-image: url(../../common/image/sprite-icons@2x.png);\r\n                                background-position: -0.44rem -0.93rem;\r\n                                -moz-background-size: 1.51rem 1.29rem;\r\n                                background-size: 1.51rem 1.29rem;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                .panel-body {\r\n                    min-height: 1.7rem;\r\n                    display: -webkit-box;\r\n                    display: -webkit-flex;\r\n                    display: -moz-box;\r\n                    display: -ms-flexbox;\r\n                    display: flex;\r\n                    -webkit-justify-content: space-around;\r\n                    -ms-flex-pack: distribute;\r\n                    justify-content: space-around;\r\n                    -webkit-box-align: center;\r\n                    -webkit-align-items: center;\r\n                    -moz-box-align: center;\r\n                    -ms-flex-align: center;\r\n                    align-items: center;\r\n                    overflow-x: auto;\r\n                    margin: 0 0.14rem;\r\n                    .Thumbnail {\r\n                        display: inline-block;\r\n                        margin: 0.05rem;\r\n                        padding: 0;\r\n                        margin-left: 0;\r\n                        margin-right: 0;\r\n                        &.sound{\r\n                               width: 1.06rem;\r\n                               height: 1.63rem;\r\n                               .cover {\r\n                                    width: 1.06rem;\r\n                                    height: 1.06rem;\r\n                               }\r\n                               .title {\r\n                                    width: 100%;\r\n                                    height: 0.36rem;\r\n                                    word-break: break-all;\r\n                                    -o-text-overflow: ellipsis;\r\n                                    text-overflow: ellipsis;\r\n                                    overflow: hidden;\r\n                                    display: -moz-box;\r\n                                    -moz-box-orient: vertical;\r\n                                    -moz-line-clamp: 2;\r\n                                    display: -webkit-box;\r\n                                    -webkit-box-orient: vertical;\r\n                                    -webkit-line-clamp: 2;\r\n                                    box-orient: vertical;\r\n                                    line-clamp: 2;\r\n                                    line-height: 0.18rem;\r\n                                    margin: 0.04rem 0;\r\n                                }\r\n                                .detail {\r\n                                    display: -webkit-box;\r\n                                    display: -webkit-flex;\r\n                                    display: -moz-box;\r\n                                    display: -ms-flexbox;\r\n                                    display: flex;\r\n                                    -webkit-box-pack: justify;\r\n                                    -webkit-justify-content: space-between;\r\n                                    -moz-box-pack: justify;\r\n                                    -ms-flex-pack: justify;\r\n                                    justify-content: space-between;\r\n                                    .item {\r\n                                        position: relative;\r\n                                        padding-left: 0.14rem;\r\n                                        font-size: 0.11rem;\r\n                                        line-height: 0.11rem;\r\n                                        color: #bdbdbd;\r\n                                        &:before {\r\n                                            content: \"\";\r\n                                            display: block;\r\n                                            position: absolute;\r\n                                            left: 0;\r\n                                            height: 10px;\r\n                                            width: 0.12rem;\r\n                                        }\r\n                                        &.play-times:before {\r\n                                            background-image: url(//static.missevan.com/assets/m/images/build/sprite-icons-thumbnails@2x.f1c29abf.png);\r\n                                            -moz-background-size: 0.56rem 0.55rem;\r\n                                            background-size: 0.56rem 0.55rem;\r\n                                            background-position: -0.44rem -0.14rem;\r\n                                        }\r\n                                        &.comments:before {\r\n                                            background-position: -0.44rem -0.26rem;\r\n                                            background-image: url(//static.missevan.com/assets/m/images/build/sprite-icons-thumbnails@2x.f1c29abf.png);\r\n                                            -moz-background-size: 0.56rem 0.55rem;\r\n                                            background-size: 0.56rem 0.55rem;\r\n                                        }\r\n                                    }\r\n                                }\r\n                        }\r\n                        &.channel {\r\n                            width: -webkit-calc(50vw - 0.28rem);\r\n                            width: -moz-calc(50vw - 0.28rem);\r\n                            width: calc(50vw - 0.28rem);\r\n                            margin: 0.03rem;\r\n                            .cover {\r\n                                width: 100%;\r\n                                height: -webkit-calc((50vw - 0.28rem)/1.5);\r\n                                height: -moz-calc((50vw - 0.28rem)/1.5);\r\n                                height: calc((50vw - 0.28rem) / 1.5);\r\n                                .follow {\r\n                                    position: absolute;\r\n                                    top: 0;\r\n                                    right: 0;\r\n                                    background-image: -webkit-gradient(linear,left top,right top,from(transparent),to(rgba(0,0,0,.2)));\r\n                                    background-image: -webkit-linear-gradient(left,transparent,rgba(0,0,0,.2));\r\n                                    background-image: -moz-linear-gradient(left,transparent,rgba(0,0,0,.2));\r\n                                    background-image: -o-linear-gradient(left,transparent,rgba(0,0,0,.2));\r\n                                    background-image: linear-gradient(90deg,transparent,rgba(0,0,0,.2));\r\n                                    width: 0.8rem;\r\n                                    height: 0.2rem;\r\n                                    padding: 0 0.05rem;\r\n                                    text-align: right;\r\n                                    -webkit-border-top-right-radius: 0.04rem;\r\n                                    -moz-border-radius-topright: 0.04rem;\r\n                                    border-top-right-radius: 0.04rem;\r\n                                    span {\r\n                                        float: right;\r\n                                        display: inline-block;\r\n                                        position: relative;\r\n                                        height: 0.2rem;\r\n                                        line-height: 0.2rem;\r\n                                        padding-left: 0.18rem;\r\n                                        color: #fff;\r\n                                        font-size: 0.12rem;\r\n                                        text-shadow: 0 1px 1px rgba(0,0,0,.7);\r\n                                      &:before{\r\n                                            content: \"\";\r\n                                            position: absolute;\r\n                                            top: 0.04rem;\r\n                                            left: 0;\r\n                                            width: 0.15rem;\r\n                                            height: 0.13rem;\r\n                                            background-image: url(//static.missevan.com/assets/m/images/build/sprite-icons-thumbnails@2x.f1c29abf.png);\r\n                                            background-position: -0.18rem -0.26rem;\r\n                                            -moz-background-size: 0.56rem 0.55rem;\r\n                                            background-size: 0.56rem 0.55rem;\r\n                                      }\r\n                                    }\r\n                                }\r\n                            }\r\n                            .title {\r\n                                margin-top: 0.03rem;\r\n                                width: 100%;\r\n                                height: 0.4rem;\r\n                                word-break: break-all;\r\n                                -o-text-overflow: ellipsis;\r\n                                text-overflow: ellipsis;\r\n                                overflow: hidden;\r\n                                display: -moz-box;\r\n                                -moz-box-orient: vertical;\r\n                                -moz-line-clamp: 2;\r\n                                display: -webkit-box;\r\n                                -webkit-box-orient: vertical;\r\n                                -webkit-line-clamp: 2;\r\n                                box-orient: vertical;\r\n                                line-clamp: 2;\r\n                                line-height: 0.2rem;\r\n                            }\r\n                        }\r\n                        .title {\r\n                            display: block;\r\n                            color: #616161;\r\n                            font-size: 0.13rem;\r\n                        }\r\n                        .cover{\r\n                            display: block;\r\n                            overflow: hidden;\r\n                            position: relative;\r\n                            -webkit-border-radius: 0.04rem;\r\n                            -moz-border-radius: 0.04rem;\r\n                            border-radius: 0.04rem;\r\n                            background-repeat: no-repeat;\r\n                            background-position: 50%;\r\n                            -moz-background-size: 100%;\r\n                            background-size: 100%;\r\n                            &:before {\r\n                                -moz-background-size: 0.56rem 0.55rem;\r\n                                -o-background-size: 0.56rem 0.55rem;\r\n                                background-size: 0.56rem 0.55rem;\r\n                                background-position: 0 0;\r\n                                content: \"\";\r\n                                display: block;\r\n                                position: absolute;\r\n                                right: 0.08rem;\r\n                                bottom: 0.08rem;\r\n                                height: 0.24rem;\r\n                                width: 0.24rem;\r\n                                background-image: url(//static.missevan.com/assets/m/images/build/sprite-icons-thumbnails@2x.f1c29abf.png);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n               \r\n            }\r\n            .loading-container{\r\n                position: absolute;\r\n                width: 100%;\r\n                top: 0.84rem;\r\n                min-height: calc(100vh - 0.84rem);\r\n                box-sizing: border-box;\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/recommend/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home\"}},[_c('iIScroll',{ref:\"scroll\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.itemList}},[_c('div',[_c('div',[_c('iItab',{attrs:{\"tabList\":_vm.tabList}}),_vm._v(\" \"),(_vm.sliderData.length)?_c('div',{staticClass:\"slider-wrapper\"},[_c('div',{staticClass:\"slider-content\"},[_c('iISlider',{ref:\"slider\"},_vm._l((_vm.sliderData),function(item){return _c('div',[_c('a',{attrs:{\"href\":item.url}},[_c('img',{attrs:{\"src\":item.pic},on:{\"load\":function($event){_vm.loadImg()}}})])])}))],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"Panel sounds\"},[_c('div',{staticClass:\"panel-head\"},[_c('div',{staticClass:\"panel-title\"},[_c('div',{staticClass:\"home-panel-title sound\"},[_c('i'),_vm._v(\"\\n                          人气 M 音\\n                          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-nav\"},[_c('a',{staticClass:\"home-panel-nav\",attrs:{\"href\":\"/rank\"}},[_vm._v(\"排行榜\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-body\"},_vm._l((_vm.sentimentList),function(item){return _c('a',{staticClass:\"Thumbnail sound\",attrs:{\"href\":_vm.hrefLink(item)}},[_c('div',{staticClass:\"cover\",style:({backgroundImage:'url(' + item.front_cover + ')'})}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.soundstr))]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"item play-times\"},[_vm._v(_vm._s(item.view_count_formatted))]),_c('span',{staticClass:\"item comments\"},[_vm._v(_vm._s(item.comment_count))])])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"Panel channels\"},[_c('div',{staticClass:\"panel-head\"},[_c('div',{staticClass:\"panel-title\"},[_c('div',{staticClass:\"home-panel-title channel\"},[_c('i'),_vm._v(\"\\n                           频道\\n                          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-nav\"},[_c('a',{staticClass:\"home-panel-nav\",attrs:{\"href\":\"/channels/all\"}},[_vm._v(\"更多\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-body\"},_vm._l((_vm.channelList),function(item){return _c('a',{staticClass:\"Thumbnail channel\",attrs:{\"href\":_vm.channelLink(item)}},[_c('div',{staticClass:\"cover\",style:({backgroundImage:'url(' + item.smallpic + ')'})},[_c('div',{staticClass:\"follow\"},[_c('span',[_vm._v(_vm._s(item.follow_num))])])]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))])])}))]),_vm._v(\" \"),_vm._l((_vm.itemList),function(item){return _c('div',{staticClass:\"Panel sounds\"},[_c('div',{staticClass:\"panel-head\"},[_c('div',{staticClass:\"panel-title\"},[_c('div',{staticClass:\"home-panel-title sound\"},[_c('i',{class:_vm.iconName(item)}),_vm._v(\"\\n                          \"+_vm._s(item.title)+\"\\n                          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-nav\"},[_c('a',{staticClass:\"home-panel-nav\",attrs:{\"href\":'/catalogs/'+item.id}},[_vm._v(\"更多\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-body\"},_vm._l((item.objects_point),function(items){return _c('a',{staticClass:\"Thumbnail sound\",attrs:{\"href\":_vm.hrefLink(items)}},[_c('div',{staticClass:\"cover\",style:({backgroundImage:'url('+_vm.miniImg(items)+')'})}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(items.soundstr))]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"item play-times\"},[_vm._v(_vm._s(items.view_count))]),_c('span',{staticClass:\"item comments\"},[_vm._v(_vm._s(items.comment_count))])])])}))])}),_vm._v(\" \"),_c('iIFooter',{on:{\"backTop\":_vm.backTop}})],2)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.itemList.length),expression:\"!itemList.length\"}],staticClass:\"loading-container\"},[_c('iILoading')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f3a7978\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recommend/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f3a7978\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f3a7978\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recommend/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}